function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Zoomable=e()}(this,function(){"use strict";var t={width:"100%",height:"100%",top:0,left:0,zIndex:998,position:"fixed",pointerEvents:"none",cursor:"zoom-out",transition:"background 0.2s ease"},e={position:"absolute",zIndex:999,cursor:"zoom-out",transition:"transform 0.2s ease",transformOrigin:"center center"},n={position:"absolute",top:0,left:0,bottom:0,right:0,maxWidth:"100%",maxHeight:"100%",display:"block",transition:"all 0.2s ease"},i=function(){function i(){var o=this;_classCallCheck(this,i);for(var s=arguments.length,r=Array(s),a=0;s>a;a++)r[a]=arguments[a];this.elements=this.flatten(r),this.elements=Array.prototype.slice.call(this.elements),this.elements.map(function(t){return o.attach(t)}),this.background=document.createElement("div"),this.setStyle(this.background,t),document.body.appendChild(this.background),this.container=document.createElement("div"),this.setStyle(this.container,e),document.body.appendChild(this.container),this.image=document.createElement("img"),this.setStyle(this.image,n),this.container.appendChild(this.image)}return _createClass(i,[{key:"attach",value:function(t){t.addEventListener("click",this.zoom.bind(this),!1),t.style.cursor="zoom-in"}},{key:"detach",value:function(t){t.removeEventListener("click",this.zoom.bind(this),!1)}},{key:"zoom",value:function(t){this.background.addEventListener("click",this.shrink.bind(this),!1),this.container.addEventListener("click",this.shrink.bind(this),!1),this.container.style.display="block",this.container.style.width=t.target.offsetWidth+"px",this.container.style.height=t.target.offsetHeight+"px";var e=t.target.getBoundingClientRect(),n=document.body.getBoundingClientRect();this.background.style.pointerEvents="auto",this.container.style.pointerEvents="auto",this.container.style.left=e.left+"px",this.container.style.top=e.top-n.top+"px";var i=window.innerWidth<900?1:.8,o=this.container.getBoundingClientRect(),s={x:window.innerWidth/2-(o.left+this.container.offsetWidth/2),y:window.innerHeight/2-(o.top+this.container.offsetHeight/2),s:Math.min(window.innerWidth*i/t.target.offsetWidth,.8*window.innerHeight/t.target.offsetHeight)};console.log(s),this.image.src=t.target.src,this.image.style.transform="scale("+s.s+")",this.container.style.transform="translate3d("+s.x+"px, "+s.y+"px, 0)"}},{key:"shrink",value:function(){var t=this;this.container.style.transform="translate3d(0, 0, 0)",this.container.style.pointerEvents="none",this.background.style.pointerEvents="none",this.image.style.transform="scale(1)",setTimeout(function(){t.container.style.display="none"},200)}},{key:"flatten",value:function(t){return t.reduce(function(t,e){return t.concat(e)})}},{key:"setStyle",value:function(t,e){for(var n in e)t.style[n]=e[n]}}]),i}();return i});
//# sourceMappingURL=zoomable.min.js.map